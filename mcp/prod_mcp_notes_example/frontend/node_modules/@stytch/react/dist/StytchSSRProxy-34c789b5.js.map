{"version":3,"file":"StytchSSRProxy-34c789b5.js","sources":["../../../internal/react-shared/src/utils/errors.ts","../../../internal/react-shared/src/StytchSSRProxy.ts"],"sourcesContent":["export const noProviderError = (item: string, provider = 'StytchProvider'): string =>\n  `${item} can only be used inside <${provider}>.`;\n\nexport const providerMustBeUniqueError = 'You cannot render a <StytchProvider> inside another <StytchProvider>.';\n\nexport const noHeadlessClientError = `Tried to create a Stytch Login UI element using the Stytch Headless SDK.\nYou must use the UI SDK to use UI elements.\nPlease make sure you are using a Stytch UI client, not a Stytch Headless client.`;\n\nexport const cannotInvokeMethodOnServerError = (path: string) =>\n  `[Stytch] Invalid serverside function call to ${path}.\nThe Stytch Javascript SDK is intended to ony be used on the client side.\nMake sure to wrap your API calls in a hook to ensure they are executed on the client.\n\\`\\`\\`\nconst myComponent = () => {\n  const stytch = useStytch();\n  // This will error out on the server.\n  stytch.magicLinks.authenticate(...);\n  useEffect(() => {\n    // This will work well\n    stytch.magicLinks.authenticate(...);\n  }, []);\n}\n\\`\\`\\`\n\nIf you want to make API calls from server environments, please use the Stytch Node Library\nhttps://www.npmjs.com/package/stytch.\n`;\n","import { cannotInvokeMethodOnServerError } from './utils/errors';\n\nconst SSRStubKey = Symbol('__stytch_SSRStubKey');\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport const isStytchSSRProxy = (proxy: any): boolean => {\n  return !!proxy[SSRStubKey];\n};\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nconst createProxy = (path: string): any => {\n  // eslint-disable-next-line @typescript-eslint/no-empty-function\n  const noop = () => {};\n  return new Proxy(noop, {\n    get(target: unknown, p: string | symbol) {\n      if ((p as symbol) === SSRStubKey) {\n        return true;\n      }\n      return createProxy(path + '.' + String(p));\n    },\n    apply() {\n      throw new Error(cannotInvokeMethodOnServerError(path));\n    },\n  });\n};\n\nexport const createStytchSSRProxy = () => createProxy('stytch');\n"],"names":[],"mappings":"AAAa,MAAA,eAAe,GAAG,CAAC,IAAY,EAAE,QAAQ,GAAG,gBAAgB,KACvE,CAAA,EAAG,IAAI,CAA6B,0BAAA,EAAA,QAAQ,KAAK;AAE5C,MAAM,yBAAyB,GAAG,wEAAwE;AAEpG,MAAA,qBAAqB,GAAG,CAAA;;kFAE6C;AAE3E,MAAM,+BAA+B,GAAG,CAAC,IAAY,KAC1D,CAAA,6CAAA,EAAgD,IAAI,CAAA;;;;;;;;;;;;;;;;;CAiBrD;;ACzBD,MAAM,UAAU,GAAG,MAAM,CAAC,qBAAqB,CAAC,CAAC;AAEjD;AACa,MAAA,gBAAgB,GAAG,CAAC,KAAU,KAAa;AACtD,IAAA,OAAO,CAAC,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC;AAC7B,EAAE;AAEF;AACA,MAAM,WAAW,GAAG,CAAC,IAAY,KAAS;;AAExC,IAAA,MAAM,IAAI,GAAG,MAAK,GAAG,CAAC;AACtB,IAAA,OAAO,IAAI,KAAK,CAAC,IAAI,EAAE;QACrB,GAAG,CAAC,MAAe,EAAE,CAAkB,EAAA;AACrC,YAAA,IAAK,CAAY,KAAK,UAAU,EAAE;AAChC,gBAAA,OAAO,IAAI,CAAC;aACb;YACD,OAAO,WAAW,CAAC,IAAI,GAAG,GAAG,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;SAC5C;QACD,KAAK,GAAA;YACH,MAAM,IAAI,KAAK,CAAC,+BAA+B,CAAC,IAAI,CAAC,CAAC,CAAC;SACxD;AACF,KAAA,CAAC,CAAC;AACL,CAAC,CAAC;AAEW,MAAA,oBAAoB,GAAG,MAAM,WAAW,CAAC,QAAQ;;;;"}
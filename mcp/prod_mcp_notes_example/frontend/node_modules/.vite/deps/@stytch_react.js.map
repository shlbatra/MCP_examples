{
  "version": 3,
  "sources": ["../../@stytch/js-utils/src/createDeepEqual.ts", "../../@stytch/js-utils/src/mergeWithStableProps.ts", "../../internal/react-shared/src/utils/async.ts", "../../internal/react-shared/src/utils/invariant.ts", "../../internal/react-shared/src/utils/useIsomorphicLayoutEffect.ts", "../../internal/react-shared/src/StytchContext.tsx", "../../internal/react-shared/src/Stytch.tsx", "../../@stytch/react/src/StytchContext.tsx"],
  "sourcesContent": ["type DeepEqualOpts = {\n  KEYS_TO_EXCLUDE?: string[];\n};\n\nexport const createDeepEqual = ({ KEYS_TO_EXCLUDE = [] }: DeepEqualOpts = {}) => {\n  // If comparing functions, this may need some work. Not sure the\n  // best path for this: compare instance (what it currently does),\n  // stringify and compare, etc.\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  const deepEqual = (a: any, b: any): boolean => {\n    // Ensures type is the same\n    if (typeof a !== typeof b) return false;\n    // arrays, null, and objects all have type 'object'\n    if (a === null || b === null) return a === b;\n    if (typeof a === 'object') {\n      if (Object.keys(a).length !== Object.keys(b).length || Object.keys(a).some((k) => !(k in b))) return false;\n      return Object.entries(a)\n        .filter(([k]) => !KEYS_TO_EXCLUDE.includes(k))\n        .every(([k, v]) => deepEqual(v, b[k]));\n    }\n    // boolean, string, number, undefined\n    return a === b;\n  };\n\n  return deepEqual;\n};\n", "import { createDeepEqual } from './createDeepEqual';\n\nconst deepEqual = createDeepEqual();\n\n/**\n * Returns a version of `newValue` whose properties that are deeply equal to\n * those in `oldValue` are replaced with those from `oldValue`. This provides a\n * limited form of \"structural sharing\" that provides a stable reference for\n * unchanged slices of the object.\n *\n * If `oldValue` and `newValue` are referentially equal, the same value is\n * returned.\n *\n * @param oldValue The old value\n * @param newValue The new value\n */\nexport const mergeWithStableProps = <T extends Record<string, unknown>, U extends Record<string, unknown> = T>(\n  oldValue: U,\n  newValue: T,\n): T => {\n  // If the values are already referentially the same, just return the new value\n  if ((oldValue as unknown) === newValue) {\n    return newValue;\n  }\n\n  return Object.keys(oldValue).reduce(\n    (acc, key) => {\n      if (key in newValue && deepEqual(oldValue[key], newValue[key])) {\n        acc[key as keyof T] = oldValue[key] as unknown as T[keyof T];\n      }\n      return acc;\n    },\n    { ...newValue },\n  );\n};\n", "import { Dispatch, SetStateAction, useCallback, useEffect, useRef, useState } from 'react';\n\n// useState can cause memory leaks if it is set after the component unmounted. For example, if it is\n// set after `await`, or in a `then`, `catch`, or `finally`, or in a setTimout/setInterval.\nexport const useAsyncState = <T>(initialState: T | (() => T)): [T, Dispatch<SetStateAction<T>>] => {\n  const isMounted = useRef<boolean>(true);\n  const [state, setState] = useState<T>(initialState);\n\n  useEffect(() => {\n    isMounted.current = true;\n    return () => {\n      isMounted.current = false;\n    };\n  }, []);\n\n  const setStateAction = useCallback<Dispatch<SetStateAction<T>>>((newState) => {\n    if (isMounted.current) {\n      setState(newState);\n    }\n  }, []);\n\n  return [state, setStateAction];\n};\n", "export function invariant(cond: unknown, message: string): asserts cond {\n  if (!cond) throw new Error(message);\n}\n", "import { useLayoutEffect, useEffect } from 'react';\n// cc https://medium.com/@alexandereardon/uselayouteffect-and-ssr-192986cdcf7a\nconst useIsomorphicLayoutEffect = typeof window !== 'undefined' ? useLayoutEffect : useEffect;\nexport default useIsomorphicLayoutEffect;\n", "import React, {\n  ComponentType,\n  createContext,\n  ReactNode,\n  useCallback,\n  useContext,\n  useEffect,\n  useMemo,\n  useRef,\n} from 'react';\n\nimport { mergeWithStableProps } from '@stytch/js-utils';\nimport type { Session, StytchProjectConfigurationInput, StytchUIClient, User } from '@stytch/vanilla-js';\nimport type { PermissionsMap, StytchHeadlessClient } from '@stytch/vanilla-js/headless';\nimport { useAsyncState } from './utils/async';\nimport { noProviderError, providerMustBeUniqueError } from './utils/errors';\nimport { invariant } from './utils/invariant';\nimport { isStytchSSRProxy } from './StytchSSRProxy';\n\n/**\n * The Stytch Client object passed in to <StytchProvider /> in your application root.\n * Either a StytchUIClient or StytchHeadlessClient.\n */\ntype StytchClient<TProjectConfiguration extends StytchProjectConfigurationInput> =\n  | StytchUIClient<TProjectConfiguration>\n  | StytchHeadlessClient<TProjectConfiguration>;\n\ntype StytchContext<TProjectConfiguration extends StytchProjectConfigurationInput> =\n  | {\n      isMounted: false;\n    }\n  | {\n      isMounted: true;\n      client: StytchClient<TProjectConfiguration>;\n    };\n\ntype SWRUserUninitialized = {\n  /**\n   * Either the active {@link User} object, or null if the user is not logged in.\n   */\n  user: null;\n  /**\n   * If true, indicates that the value returned is from the application cache and a state refresh is in progress.\n   */\n  fromCache: false;\n  /**\n   * If true, indicates that the SDK has completed initialization.\n   */\n  isInitialized: false;\n};\n\ntype SWRUserInitialized = {\n  /**\n   * Either the active {@link User} object, or null if the user is not logged in.\n   */\n  user: User | null;\n  /**\n   * If true, indicates that the value returned is from the application cache and a state refresh is in progress.\n   */\n  fromCache: boolean;\n  /**\n   * If true, indicates that the SDK has completed initialization.\n   */\n  isInitialized: true;\n};\n\ntype SWRUser<TAlwaysInitialized extends boolean = boolean> = TAlwaysInitialized extends true\n  ? SWRUserInitialized\n  : SWRUserInitialized | SWRUserUninitialized;\n\nconst initialUser: SWRUserUninitialized = {\n  user: null,\n  fromCache: false,\n  isInitialized: false,\n};\n\ntype SWRSessionUninitialized = {\n  /**\n   * Either the active {@link Session} object, or null if the user is not logged in.\n   */\n  session: null;\n  /**\n   * If true, indicates that the value returned is from the application cache and a state refresh is in progress.\n   */\n  fromCache: false;\n  /**\n   * If true, indicates that the SDK has completed initialization.\n   */\n  isInitialized: false;\n};\n\ntype SWRSessionInitialized = {\n  /**\n   * Either the active {@link Session} object, or null if the user is not logged in.\n   */\n  session: Session | null;\n  /**\n   * If true, indicates that the value returned is from the application cache and a state refresh is in progress.\n   */\n  fromCache: boolean;\n  /**\n   * If true, indicates that the SDK has completed initialization.\n   */\n  isInitialized: true;\n};\n\ntype SWRSession<TAlwaysInitialized extends boolean = boolean> = TAlwaysInitialized extends true\n  ? SWRSessionInitialized\n  : SWRSessionInitialized | SWRSessionUninitialized;\n\nconst initialSession: SWRSessionUninitialized = {\n  session: null,\n  fromCache: false,\n  isInitialized: false,\n};\n\nconst StytchContext = createContext<StytchContext<StytchProjectConfigurationInput>>({ isMounted: false });\nconst StytchUserContext = createContext<SWRUser>(initialUser);\nconst StytchSessionContext = createContext<SWRSession>(initialSession);\n\nexport const useIsMounted__INTERNAL = (): boolean => useContext(StytchContext).isMounted;\n\nexport const isUIClient = <TProjectConfiguration extends StytchProjectConfigurationInput>(\n  client: StytchClient<TProjectConfiguration>,\n): client is StytchUIClient<TProjectConfiguration> => {\n  return (client as StytchUIClient<TProjectConfiguration>).mountLogin !== undefined;\n};\n\n/**\n * Returns the active User.\n * The Stytch SDKs are used for client-side authentication and session management.\n * Check the isInitialized property to determine if the SDK has completed initialization.\n * Check the fromCache property to determine if the user data is from persistent storage.\n * @example\n * const {user, isInitialized, fromCache} = useStytchUser();\n * if (!isInitialized) {\n *     return <p>Loading...</p>;\n * }\n * return (<h1>Welcome, {user.name.first_name}</h1>);\n */\nexport const useStytchUser = <TAssumeHydrated extends boolean = false>(): SWRUser<TAssumeHydrated> => {\n  invariant(useIsMounted__INTERNAL(), noProviderError('useStytchUser'));\n  return useContext(StytchUserContext) as SWRUser<TAssumeHydrated>;\n};\n\n/**\n * Returns the active user's Stytch session.\n * The Stytch SDKs are used for client-side authentication and session management.\n * Check the isInitialized property to determine if the SDK has completed initialization.\n * Check the fromCache property to determine if the session data is from persistent storage.\n * @example\n * const {session, isInitialized, fromCache} = useStytchSession();\n * useEffect(() => {\n *   if (!isInitialized) {\n *     return;\n *   }\n *   if (!session) {\n *     router.replace('/login')\n *   }\n * }, [session, isInitialized]);\n */\nexport const useStytchSession = <TAssumeHydrated extends boolean = false>(): SWRSession<TAssumeHydrated> => {\n  invariant(useIsMounted__INTERNAL(), noProviderError('useStytchSession'));\n  return useContext(StytchSessionContext) as SWRSession<TAssumeHydrated>;\n};\n\n/**\n * Returns the Stytch client stored in the Stytch context.\n *\n * @example\n * const stytch = useStytch();\n * useEffect(() => {\n *   stytch.magicLinks.authenticate('...')\n * }, [stytch]);\n */\nexport const useStytch = <\n  TProjectConfiguration extends StytchProjectConfigurationInput = Stytch.DefaultProjectConfiguration,\n>(): StytchClient<TProjectConfiguration> => {\n  const ctx = useContext(StytchContext);\n  invariant(ctx.isMounted, noProviderError('useStytch'));\n  return ctx.client as StytchClient<TProjectConfiguration>;\n};\n\nexport const withStytch = <\n  T extends object,\n  TProjectConfiguration extends StytchProjectConfigurationInput = Stytch.DefaultProjectConfiguration,\n>(\n  Component: ComponentType<T & { stytch: StytchClient<TProjectConfiguration> }>,\n): ComponentType<T> => {\n  const WithStytch: ComponentType<T> = (props) => {\n    invariant(useIsMounted__INTERNAL(), noProviderError('withStytch'));\n    return <Component {...props} stytch={useStytch()} />;\n  };\n  WithStytch.displayName = `withStytch(${Component.displayName || Component.name || 'Component'})`;\n  return WithStytch;\n};\n\nexport const withStytchUser = <T extends object, TAssumeHydrated extends boolean = false>(\n  Component: ComponentType<\n    T & { stytchUser: User | null; stytchUserIsInitialized: boolean; stytchUserIsFromCache: boolean }\n  >,\n): ComponentType<T> => {\n  const WithStytchUser: ComponentType<T> = (props) => {\n    invariant(useIsMounted__INTERNAL(), noProviderError('withStytchUser'));\n    const { user, isInitialized, fromCache } = useStytchUser<TAssumeHydrated>();\n    return (\n      <Component\n        {...props}\n        stytchUser={user}\n        stytchUserIsInitialized={isInitialized}\n        stytchUserIsFromCache={fromCache}\n      />\n    );\n  };\n  WithStytchUser.displayName = `withStytchUser(${Component.displayName || Component.name || 'Component'})`;\n  return WithStytchUser;\n};\n\nexport const withStytchSession = <T extends object, TAssumeHydrated extends boolean = false>(\n  Component: ComponentType<\n    T & { stytchSession: Session | null; stytchSessionIsInitialized: boolean; stytchSessionIsFromCache: boolean }\n  >,\n): ComponentType<T> => {\n  const WithStytchSession: ComponentType<T> = (props) => {\n    invariant(useIsMounted__INTERNAL(), noProviderError('withStytchSession'));\n    const { session, isInitialized, fromCache } = useStytchSession<TAssumeHydrated>();\n    return (\n      <Component\n        {...props}\n        stytchSession={session}\n        stytchSessionIsInitialized={isInitialized}\n        stytchSessionIsFromCache={fromCache}\n      />\n    );\n  };\n  WithStytchSession.displayName = `withStytchSession(${Component.displayName || Component.name || 'Component'})`;\n  return WithStytchSession;\n};\n\ntype SWRIsAuthorizedUninitialized = {\n  /**\n   * Whether the logged-in user is allowed to perform the specified action on the specified resource.\n   */\n  isAuthorized: false;\n  /**\n   * If true, indicates that the value returned is from the application cache and a state refresh is in progress.\n   */\n  fromCache: false;\n  /**\n   * If true, indicates that the SDK has completed initialization.\n   */\n  isInitialized: false;\n};\n\ntype SWRIsAuthorizedInitialized = {\n  /**\n   * Whether the logged-in user is allowed to perform the specified action on the specified resource.\n   */\n  isAuthorized: boolean;\n  /**\n   * If true, indicates that the value returned is from the application cache and a state refresh is in progress.\n   */\n  fromCache: boolean;\n  /**\n   * If true, indicates that the SDK has completed initialization.\n   */\n  isInitialized: boolean;\n};\n\ntype SWRIsAuthorized<TAlwaysInitialized extends boolean> = TAlwaysInitialized extends true\n  ? SWRIsAuthorizedInitialized\n  : SWRIsAuthorizedInitialized | SWRIsAuthorizedUninitialized;\n\n/**\n * Determines whether the logged-in user is allowed to perform the specified action on the specified resource.\n * Returns `true` if the user can perform the action, `false` otherwise.\n *\n * If the user is not logged in, this method will always return false.\n * If the resource or action provided are not valid for the configured RBAC policy, this method will return false.\n *\n * Remember - authorization checks for sensitive actions should always occur on the backend as well.\n * @example\n * const { isAuthorized } = useStytchIsAuthorized<Permissions>('documents', 'edit');\n * return <button disabled={!isAuthorized}>Edit</button>\n */\nexport const useStytchIsAuthorized = <TAssumeHydrated extends boolean = false>(\n  resourceId: string,\n  action: string,\n): SWRIsAuthorized<TAssumeHydrated> => {\n  invariant(useIsMounted__INTERNAL(), noProviderError('useStytchIsAuthorized', 'StytchProvider'));\n  const client = useStytch();\n  const { user } = useStytchUser();\n  const [isAuthorized, setIsAuthorized] = useAsyncState<SWRIsAuthorized<boolean>>({\n    isInitialized: false,\n    fromCache: false,\n    isAuthorized: false,\n  });\n\n  useEffect(() => {\n    if (isStytchSSRProxy(client)) {\n      return;\n    }\n\n    setIsAuthorized({\n      isInitialized: true,\n      fromCache: true,\n      isAuthorized: client.rbac.isAuthorizedSync(resourceId, action),\n    });\n  }, [action, client, resourceId, setIsAuthorized]);\n\n  useEffect(() => {\n    if (isStytchSSRProxy(client)) {\n      return;\n    }\n    client.rbac.isAuthorized(resourceId, action).then((isAuthorized) => {\n      setIsAuthorized({ isAuthorized, fromCache: false, isInitialized: true });\n    });\n  }, [client, user?.roles, resourceId, action, setIsAuthorized]);\n\n  return isAuthorized;\n};\n\ntype permissionsLoaded<Permissions extends Record<string, string>> =\n  | {\n      loaded: false;\n      value: null;\n    }\n  | {\n      loaded: true;\n      value: PermissionsMap<Permissions>;\n    };\n\n/**\n * Wrap your component with this HOC in order to receive the permissions for the logged-in user.\n * Evaluates all permissions granted to the logged-in user.\n * Returns a Record<RoleId, Record<Action, boolean>> response indicating the user's permissions.\n * Each boolean will be `true` if the user can perform the action, `false` otherwise.\n *\n * If the user is not logged in, all values will be false.\n *\n * Remember - authorization checks for sensitive actions should always occur on the backend as well.\n * @example\n * type Permissions = {\n *   document: 'create' | 'read' | 'write\n *   image: 'create' | 'read'\n * }\n *\n * const MyComponent = (props) => {\n *   const canEditDocuments = props.stytchPermissions.document.edit;\n *   const canReadImages = props.stytchPermissions.image.read;\n * }\n * return withStytchPermissions<Permissions>(MyComponent)\n */\nexport const withStytchPermissions = <Permissions extends Record<string, string>, T extends object>(\n  Component: ComponentType<T & { stytchPermissions: PermissionsMap<Permissions> }>,\n): ComponentType<T> => {\n  const WithStytchPermissions: ComponentType<T> = (props) => {\n    invariant(useIsMounted__INTERNAL(), noProviderError('useRBACPermissions', 'StytchProvider'));\n    const client = useStytch();\n    const { user } = useStytchUser();\n    const [permissions, setPermissions] = useAsyncState<permissionsLoaded<Permissions>>({ loaded: false, value: null });\n\n    useEffect(() => {\n      client.rbac.allPermissions<Permissions>().then((permissions) => {\n        setPermissions({ loaded: true, value: permissions });\n      });\n    }, [client, user?.roles, setPermissions]);\n\n    if (!permissions.loaded) {\n      return null;\n    }\n    return <Component {...props} stytchPermissions={permissions.value} />;\n  };\n  WithStytchPermissions.displayName = `withStytchPermissions(${\n    Component.displayName || Component.name || 'Component'\n  })`;\n  return WithStytchPermissions;\n};\n\nexport interface StytchProviderProps<\n  TProjectConfiguration extends StytchProjectConfigurationInput = Stytch.DefaultProjectConfiguration,\n> {\n  /**\n   * A Stytch client instance, created using either {@link createStytchHeadlessClient} or {@link createStytchUIClient}\n   */\n  stytch: StytchClient<TProjectConfiguration>;\n  /**\n   * When true, the provider will assume that the component will only be\n   * rendered in a browser environment, either in a single-page application or\n   * after completing hydration of a server-rendered application. This allows\n   * cached values to be retrieved from the browser on the first render, meaning\n   * that the `isInitialized` value returned from Stytch hooks will be `true`\n   * starting from the first render.\n   *\n   * When `false`, the provider will defer initialization until after the first\n   * render, and `isInitialized` will initially be `false`.\n   *\n   * This value defaults to `false` in `@stytch/nextjs`.\n   */\n  assumeHydrated?: boolean;\n  children?: ReactNode;\n}\n\n/**\n * The Stytch Context Provider.\n * Wrap your application with this component in order to use Stytch everywhere in your app.\n * @example\n * const stytch = createStytchHeadlessClient('public-token-<find yours in the stytch dashboard>')\n *\n * return (\n *   <StytchProvider stytch={stytch}>\n *     <App />\n *   </StytchProvider>\n * )\n */\nexport const StytchProvider = <\n  TProjectConfiguration extends StytchProjectConfigurationInput = Stytch.DefaultProjectConfiguration,\n>({\n  stytch,\n  children,\n  assumeHydrated = false,\n}: StytchProviderProps<TProjectConfiguration>): JSX.Element => {\n  invariant(!useIsMounted__INTERNAL(), providerMustBeUniqueError);\n  invariant(\n    !assumeHydrated || typeof window !== 'undefined',\n    'The `assumeHydrated` prop must be set to `false` when using StytchProvider in a server environment.',\n  );\n\n  const ctx = useMemo(() => ({ client: stytch, isMounted: true }), [stytch]);\n\n  type ClientState<TAlwaysInitialized extends boolean> = {\n    session: SWRSession<TAlwaysInitialized>;\n    user: SWRUser<TAlwaysInitialized>;\n  };\n\n  const getHydratedState = useCallback(() => {\n    return {\n      session: { ...stytch.session.getInfo(), isInitialized: true },\n      user: { ...stytch.user.getInfo(), isInitialized: true },\n    } satisfies ClientState<true>;\n  }, [stytch]);\n\n  const getInitialState = () => {\n    return {\n      session: initialSession,\n      user: initialUser,\n    } satisfies ClientState<false>;\n  };\n\n  const [{ user, session }, setClientState] = useAsyncState<ClientState<boolean>>(() =>\n    assumeHydrated ? getHydratedState() : (getInitialState() as ClientState<boolean>),\n  );\n\n  // Store the initial value of `assumeHydrated` in a ref, because it is\n  // logically only relevant for the first render\n  const assumeHydratedRef = useRef(assumeHydrated);\n  useEffect(() => {\n    if (isStytchSSRProxy(stytch)) {\n      return;\n    }\n\n    const updateState = () => {\n      setClientState((oldState) => mergeWithStableProps(oldState, getHydratedState()));\n    };\n\n    if (!assumeHydratedRef.current) {\n      updateState();\n    }\n\n    return stytch.onStateChange(updateState);\n  }, [getHydratedState, setClientState, stytch]);\n\n  return (\n    <StytchContext.Provider value={ctx}>\n      <StytchUserContext.Provider value={user}>\n        <StytchSessionContext.Provider value={session}>{children}</StytchSessionContext.Provider>\n      </StytchUserContext.Provider>\n    </StytchContext.Provider>\n  );\n};\n", "import React, { useRef } from 'react';\nimport type {\n  Callbacks,\n  StringsOptions,\n  StytchLoginConfig,\n  StyleConfig,\n  StytchProjectConfigurationInput,\n  IDPConsentScreenManifest,\n} from '@stytch/vanilla-js';\n\nimport { useStytch, isUIClient, useIsMounted__INTERNAL, useStytchUser } from './StytchContext';\nimport { invariant } from './utils/invariant';\nimport { noHeadlessClientError, noProviderError } from './utils/errors';\nimport useIsomorphicLayoutEffect from './utils/useIsomorphicLayoutEffect';\n\nexport interface StytchProps<\n  TProjectConfiguration extends StytchProjectConfigurationInput = Stytch.DefaultProjectConfiguration,\n> extends StringsOptions {\n  /**\n   * A {@link StytchLoginConfig} object. Add products and product-specific config to this object to change the login methods shown.\n   *\n   * @example\n   * {\n   *   products: ['crypto', 'otps']\n   * }\n   *\n   * @example\n   * {\n   *   products: ['emailMagicLinks'>]\n   *   emailMagicLinksOptions: {\n   *     loginRedirectURL: 'https://example.com/authenticate',\n   *     signupRedirectURL: 'https://example.com/authenticate',\n   *   }\n   * }\n   *\n   * @example\n   * {\n   *   products: ['oauth'>]\n   *   oauthOptions: {\n   *   providers: [\n   *       { type: 'google', one_tap: true, position: 'embedded' },\n   *       { type: 'microsoft' },\n   *       { type: 'apple' },\n   *       { type: 'facebook' },\n   *     ],\n   *   }\n   * }\n   */\n  config: StytchLoginConfig;\n  /**\n   * An optional {@link StyleConfig} to customize the look and feel of the screen.\n   *\n   * @example\n   * {\n   *    fontFamily: 'Arial, Helvetica, sans-serif',\n   *    width: '360px',\n   *    primaryColor: '#19303D',\n   * }\n   */\n  styles?: StyleConfig;\n  /**\n   * An optional {@link Callbacks} object.\n   *\n   * @example\n   * {\n   *   onError: ({message}) => {\n   *      console.error('Stytch login screen error', message)\n   *   }\n   * }\n   *\n   * @example\n   * {\n   *   onEvent: ({type, data}) => {\n   *     if(type === StytchEventType.CryptoWalletAuthenticate) {\n   *       console.log('Logged in with crypto wallet', data);\n   *     }\n   *   }\n   * }\n   */\n  callbacks?: Callbacks<TProjectConfiguration>;\n}\n\n/**\n * The Stytch Login Screen component.\n * This component can only be used with a Stytch UI Client\n * passed into the StytchProvider.\n *\n * See the {@link https://stytch.com/docs/sdks online reference}\n *\n * @example\n * <StytchLogin\n *   config={{\n *     products: ['emailMagicLinks', 'oauth'],\n *     emailMagicLinksOptions: {\n *       loginRedirectURL: 'https://example.com/authenticate',\n *       signupRedirectURL: 'https://example.com/authenticate',\n *     },\n *     oauthOptions: {\n *      providers: [{ type: OAuthProviders.Google }, { type: OAuthProviders.Microsoft }],\n *    },\n *   }}\n *   styles={{\n *     fontFamily: '\"Helvetica New\", Helvetica, sans-serif',\n *     primaryColor: '#0577CA',\n *     width: '321px',\n *   }}\n *   callbacks={{\n *     onEvent: (event) => console.log(event)\n *   }}\n * />\n */\nexport const StytchLogin = <\n  TProjectConfiguration extends StytchProjectConfigurationInput = Stytch.DefaultProjectConfiguration,\n>({\n  config,\n  styles,\n  callbacks,\n  strings,\n}: StytchProps<TProjectConfiguration>) => {\n  invariant(useIsMounted__INTERNAL(), noProviderError('<StytchLogin />'));\n  const stytchClient = useStytch<TProjectConfiguration>();\n  const containerEl = useRef<HTMLDivElement>(null);\n\n  useIsomorphicLayoutEffect(() => {\n    if (!isUIClient(stytchClient)) {\n      throw Error(noHeadlessClientError);\n    }\n\n    if (!containerEl.current) {\n      return;\n    }\n\n    if (!containerEl.current.id) {\n      const randId = Math.floor(Math.random() * 1e6);\n      containerEl.current.id = `stytch-magic-link-${randId}`;\n    }\n\n    stytchClient.mountLogin({\n      config,\n      callbacks,\n      elementId: `#${containerEl.current.id}`,\n      styles,\n      strings,\n    });\n  }, [stytchClient, config, styles, callbacks, strings]);\n\n  return <div ref={containerEl} />;\n};\n\nexport interface StytchResetPasswordProps<\n  TProjectConfiguration extends StytchProjectConfigurationInput = Stytch.DefaultProjectConfiguration,\n> extends StytchProps<TProjectConfiguration> {\n  /**\n   * A Stytch password reset token.\n   */\n  passwordResetToken: string;\n}\n\nexport type IDPConsentScreenManifestGenerator = (input: {\n  scopes: string[];\n  clientName: string;\n}) => IDPConsentScreenManifest;\n\nexport type AuthTokenParams = {\n  /**\n   * The auth token to provide for attestation prior to running OAuth flow.\n   */\n  trustedAuthToken: string;\n  /**\n   * The profile ID of the token.\n   */\n  tokenProfileID: string;\n};\n\nexport type IdentityProviderProps = Omit<StytchProps, 'config'> & {\n  /**\n   * Optional {@link IDPConsentScreenManifestGenerator} to customize the consent screen.\n   */\n  getIDPConsentManifest?: IDPConsentScreenManifestGenerator;\n  /**\n   * Optional {@link AuthTokenParams} to provide a trusted auth token to provide for attestation prior to running OAuth flow.\n   */\n  authTokenParams?: AuthTokenParams;\n};\n\n/**\n * The Stytch Reset Password component.\n * This component can only be used with a Stytch UI Client\n * passed into the StytchProvider.\n *\n * See the {@link https://stytch.com/docs/sdks online reference}\n *\n * @example\n * <StytchPasswordReset\n *   config={{\n *     products: ['emailMagicLinks', 'oauth'],\n *     emailMagicLinksOptions: {\n *       loginRedirectURL: 'https://example.com/authenticate',\n *       signupRedirectURL: 'https://example.com/authenticate',\n *     },\n *     oauthOptions: {\n *      providers: [{ type: OAuthProviders.Google }, { type: OAuthProviders.Microsoft }],\n *    },\n *   }}\n *   passwordResetToken=\"PvC5UudZ7TPZbELt95yXAQ-8MeEUCRob8bUQ-g52fIJs\"\n *   styles={{\n *     fontFamily: '\"Helvetica New\", Helvetica, sans-serif',\n *     primaryColor: '#0577CA',\n *     width: '321px',\n *   }}\n *   callbacks={{\n *     onEvent: (event) => console.log(event)\n *   }}\n * />\n */\nexport const StytchPasswordReset = <\n  TProjectConfiguration extends StytchProjectConfigurationInput = Stytch.DefaultProjectConfiguration,\n>({\n  config,\n  styles,\n  callbacks,\n  strings,\n  passwordResetToken,\n}: StytchResetPasswordProps<TProjectConfiguration>) => {\n  invariant(useIsMounted__INTERNAL(), noProviderError('<StytchResetPassword />'));\n  const stytchClient = useStytch<TProjectConfiguration>();\n  const containerEl = useRef<HTMLDivElement>(null);\n\n  useIsomorphicLayoutEffect(() => {\n    if (!isUIClient(stytchClient)) {\n      throw Error(noHeadlessClientError);\n    }\n\n    if (!containerEl.current) {\n      return;\n    }\n\n    if (!containerEl.current.id) {\n      const randId = Math.floor(Math.random() * 1e6);\n      containerEl.current.id = `stytch-reset-password-${randId}`;\n    }\n\n    if (passwordResetToken) {\n      stytchClient.mountResetPassword({\n        config,\n        callbacks,\n        elementId: `#${containerEl.current.id}`,\n        styles,\n        strings,\n        passwordResetToken,\n      });\n    }\n  }, [stytchClient, config, styles, callbacks, strings, passwordResetToken]);\n\n  return <div ref={containerEl} />;\n};\n\n/**\n * The Stytch Passkey Registration component.\n * This component can only be used with a Stytch UI Client\n * passed into the StytchProvider.\n *\n * See the {@link https://stytch.com/docs/sdks online reference}\n *\n * @example\n * const styles = {\n *     container: {\n *       backgroundColor: '#e11e1e',\n *     },\n *     colors: {\n *       primary: '#ff00f7',\n *       secondary: '#5C727D',\n *     },\n *    }\n *\n * <StytchPasskeyRegistration\n *   styles={styles}\n *   callbacks={{\n *     onEvent: (event) => console.log(event)\n *   }}\n * />\n */\nexport const StytchPasskeyRegistration = <\n  TProjectConfiguration extends StytchProjectConfigurationInput = Stytch.DefaultProjectConfiguration,\n>({\n  config,\n  styles,\n  callbacks,\n  strings,\n}: StytchProps<TProjectConfiguration>) => {\n  invariant(useIsMounted__INTERNAL(), noProviderError('<StytchPasskeyRegistration />'));\n  const stytchClient = useStytch<TProjectConfiguration>();\n  const user = useStytchUser();\n  const containerEl = useRef<HTMLDivElement>(null);\n\n  useIsomorphicLayoutEffect(() => {\n    if (!isUIClient(stytchClient)) {\n      throw Error(noHeadlessClientError);\n    }\n\n    if (!containerEl.current) {\n      return;\n    }\n\n    if (!containerEl.current.id) {\n      const randId = Math.floor(Math.random() * 1e6);\n      containerEl.current.id = `stytch-passkey-registration-${randId}`;\n    }\n\n    stytchClient.mountPasskeyRegistration({\n      config,\n      callbacks,\n      elementId: `#${containerEl.current.id}`,\n      styles,\n      strings,\n    });\n  }, [stytchClient, config, styles, callbacks, strings, user]);\n\n  return <div ref={containerEl} />;\n};\n\n/**\n * The Stytch IDP component.\n * Parses OAuth Authorization params (client_id, scope, nonce, etc.) out of the page URL.\n * Requires the user to be logged in.\n * This component can only be used with a Stytch UI Client\n * passed into the StytchProvider.\n *\n * See the {@link https://stytch.com/docs/sdks online reference}\n *\n * @example\n * const styles = {\n *   container: {\n *     backgroundColor: '#e11e1e',\n *   },\n *   colors: {\n *     primary: '#ff00f7',\n *     secondary: '#5C727D',\n *   },\n * }\n *\n * <IdentityProvider\n *   styles={styles}\n *   callbacks={{\n *     onEvent: (event) => console.log(event)\n *   }}\n * />\n */\nexport const IdentityProvider = ({\n  styles,\n  callbacks,\n  strings,\n  getIDPConsentManifest,\n  authTokenParams,\n}: IdentityProviderProps) => {\n  invariant(useIsMounted__INTERNAL(), noProviderError('<IdentityProvider />'));\n  const stytchClient = useStytch();\n  const user = useStytchUser();\n  const containerEl = useRef<HTMLDivElement>(null);\n\n  useIsomorphicLayoutEffect(() => {\n    if (!isUIClient(stytchClient)) {\n      throw Error(noHeadlessClientError);\n    }\n\n    if (!containerEl.current) {\n      return;\n    }\n\n    if (!containerEl.current.id) {\n      const randId = Math.floor(Math.random() * 1e6);\n      containerEl.current.id = `stytch-idp-${randId}`;\n    }\n\n    stytchClient.mountIdentityProvider({\n      callbacks,\n      elementId: `#${containerEl.current.id}`,\n      styles,\n      strings,\n      getIDPConsentManifest,\n      authTokenParams,\n    });\n  }, [stytchClient, styles, callbacks, user, strings, getIDPConsentManifest, authTokenParams]);\n\n  return <div ref={containerEl} />;\n};\n", "import React, { ComponentType, ReactNode } from 'react';\n\nimport type { StytchProjectConfigurationInput, StytchUIClient } from '@stytch/vanilla-js';\nimport type { Session, StytchHeadlessClient, User } from '@stytch/vanilla-js/headless';\n\nexport { useStytch, withStytch } from '@stytch/internal-react-shared';\n\nimport {\n  StytchProvider as StytchProviderShared,\n  useStytchSession as useStytchSessionShared,\n  useStytchUser as useStytchUserShared,\n  withStytchSession as withStytchSessionShared,\n  withStytchUser as withStytchUserShared,\n  useStytchIsAuthorized as useStytchIsAuthorizedShared,\n  withStytchPermissions as withStytchPermissionsShared,\n} from '@stytch/internal-react-shared';\n\n/**\n * Returns the active User.\n * The Stytch SDKs are used for client-side authentication and session management.\n * Check the isInitialized property to determine if the SDK has completed initialization.\n * Check the fromCache property to determine if the user data is from persistent storage.\n * @example\n * const {user, isInitialized, fromCache} = useStytchUser();\n * if (!isInitialized) {\n *     return <p>Loading...</p>;\n * }\n * return (<h1>Welcome, {user.name.first_name}</h1>);\n */\nexport const useStytchUser = useStytchUserShared as <TAssumeHydrated extends boolean = true>() => ReturnType<\n  typeof useStytchUserShared<TAssumeHydrated>\n>;\n\n/**\n * Returns the active user's Stytch session.\n * The Stytch SDKs are used for client-side authentication and session management.\n * Check the isInitialized property to determine if the SDK has completed initialization.\n * Check the fromCache property to determine if the session data is from persistent storage.\n * @example\n * const {session, isInitialized, fromCache} = useStytchSession();\n * useEffect(() => {\n *   if (!isInitialized) {\n *     return;\n *   }\n *   if (!session) {\n *     router.replace('/login')\n *   }\n * }, [session, isInitialized]);\n */\nexport const useStytchSession = useStytchSessionShared as <TAssumeHydrated extends boolean = true>() => ReturnType<\n  typeof useStytchSessionShared<TAssumeHydrated>\n>;\n\nexport const withStytchUser = withStytchUserShared as <T extends object, TAssumeHydrated extends boolean = true>(\n  Component: ComponentType<\n    T & { stytchUser: User | null; stytchUserIsInitialized: boolean; stytchUserIsFromCache: boolean }\n  >,\n) => ReturnType<typeof withStytchUserShared<T, TAssumeHydrated>>;\n\nexport const withStytchSession = withStytchSessionShared as <T extends object, TAssumeHydrated extends boolean = true>(\n  Component: ComponentType<\n    T & { stytchSession: Session | null; stytchSessionIsInitialized: boolean; stytchSessionIsFromCache: boolean }\n  >,\n) => ReturnType<typeof withStytchSessionShared<T, TAssumeHydrated>>;\n\nexport const useStytchIsAuthorized = useStytchIsAuthorizedShared as <TAssumeHydrated extends boolean = true>(\n  resourceId: string,\n  action: string,\n) => ReturnType<typeof useStytchIsAuthorizedShared<TAssumeHydrated>>;\n\nexport const withStytchPermissions = withStytchPermissionsShared as <\n  Permissions extends Record<string, string>,\n  T extends object,\n>(\n  Component: ComponentType<T & { stytchPermissions: Record<string, Record<string, boolean>> }>,\n) => ReturnType<typeof withStytchPermissionsShared<Permissions, T>>;\n\n/**\n * The Stytch Client object passed in to <StytchProvider /> in your application root.\n * Either a StytchUIClient or StytchHeadlessClient.\n */\ntype StytchClient<TProjectConfiguration extends StytchProjectConfigurationInput> =\n  | StytchUIClient<TProjectConfiguration>\n  | StytchHeadlessClient<TProjectConfiguration>;\n\nexport interface StytchProviderProps<\n  TProjectConfiguration extends StytchProjectConfigurationInput = Stytch.DefaultProjectConfiguration,\n> {\n  /**\n   * A Stytch client instance, either a {@link StytchUIClient} or {@link StytchHeadlessClient}\n   */\n  stytch: StytchClient<TProjectConfiguration>;\n  /**\n   * When true, the provider will assume that the component will only be\n   * rendered in a browser environment, either in a single-page application or\n   * after completing hydration of a server-rendered application. This allows\n   * cached values to be retrieved from the browser on the first render, meaning\n   * that the `isInitialized` value returned from Stytch hooks will be `true`\n   * starting from the first render.\n   *\n   * When `false`, the provider will defer initialization until after the first\n   * render, and `isInitialized` will initially be `false`.\n   *\n   * If you encounter hydration errors relating to the use of this component,\n   * set this to `false`.\n   *\n   * This value defaults to `true` in `@stytch/react`.\n   */\n  assumeHydrated?: boolean;\n  children?: ReactNode;\n}\n\n/**\n * The Stytch Context Provider.\n * Wrap your application with this component in order to use Stytch everywhere in your app.\n * @example\n * const stytch = createStytchHeadlessClient('public-token-<find yours in the stytch dashboard>')\n *\n * ReactDOM.render(\n *   <StytchProvider stytch={stytch}>\n *     <App />\n *   </StytchProvider>,\n *   document.getElementById('root'),\n * )\n */\nexport const StytchProvider = <\n  TProjectConfiguration extends StytchProjectConfigurationInput = Stytch.DefaultProjectConfiguration,\n>({\n  stytch,\n  children,\n  assumeHydrated = true,\n}: StytchProviderProps<TProjectConfiguration>): JSX.Element => {\n  return (\n    <StytchProviderShared stytch={stytch} assumeHydrated={assumeHydrated}>\n      {children}\n    </StytchProviderShared>\n  );\n};\n"],
  "mappings": "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",
  "names": ["deepEqual", "useStytchUser", "useStytchSession", "React", "withStytchUser", "withStytchSession", "useStytchIsAuthorized", "isAuthorized", "withStytchPermissions", "permissions", "StytchProvider", "useStytchUserShared", "useStytchSessionShared", "withStytchUserShared", "withStytchSessionShared", "useStytchIsAuthorizedShared", "withStytchPermissionsShared", "StytchProviderShared"]
}
